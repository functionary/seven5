--- 
layout: default
title: Seven5
tagline: Restful without mercy or remorse.
---
# Seven5: The Opinionated Web Framework For Go
## or: strong-typing with a fast dev-loop for the web

_Seven5_ is:

    Restful without mercy or remorse.
    Fiercely strong on typing.
    Can't be bothered to worry much about data storage.
    Brutally reactionary towards the forces of dynamism.
    Generally opposed to server side content generation.
    
    ... yet, strangely refreshing for web development.

### What Seven5 gives you

_Seven5_ defaults to providing you with RESTful web services based on your models.  _Seven5_ also generates client-side support in Dart for manipulating these models in a browser.

Everything, including the client side code, in _Seven5_ is strongly typed and checked.  Any exception to this rule is a bug and should be reported.

Data storage is a solved problem for 99% of applications.  We support some storage stuff for SQL out of the box, but frankly we will neither notice nor care if you wrote your own storage layer.

We want to know the exact code that will run in the production system and its exact resource usage, even under load.  For this reason, everything is compiled into the binary of the application for production usage--including static files.

We support a tiny bit of server-side code generation for tasks like producing framing for websites (the "head section", for example) and for dealing with a few problems of virtual hosting that are hard to do without server help.  We don't provide fancy server-side template engines and we don't have any interest in doing so. If you want to do things "the _Seven5_ way," do your content generation on the client side.

Because of the way _Seven5_ is built and used, you can just "edit and hit reload" when doing development, just like those horrible, dynamically-typed web frameworks.  The difference is, if you botch up the code, you get a compiler error.

_Seven5_ wants you to have 100% code coverage for your unit and functional tests.  Everything generated by _Seven5_ is designed to be easily testable.

## The Roadie

* The roadie is a dude that does a bunch of lifting but doesn't get any credit.
* He runs the webserver where you interact with _Seven5_.
* He watches `groupies.json` and administers pills as needed.
* He notifies groupies inside _Seven5_ about changes to other files.

`roadie` is the program you run in the directory where your web application is.  You talk to him by hitting port 9009 in your browser.  He'll handle the rest.

### Pills

A pill is a small, usually _tiny_, bit of machine-generated Go code containing a `main()` that is compiled "with" an existing library of code, run exactly once, and then deleted.

#### Why do we use pills?

* Go compiles _really_ fast.
* Go's source code is complex to analyze, particularly the type system.
* Go has excellent facilities for reflection.
* Go doesn't support dynamic loading (nor should it).

Taken together, we can simulate the development cycle of a dynamic, interpreted language using pills. How?

* You change your code in `foo.go`, say, introducing some new type `bar`.
* The Roadie notices the file changed, and tries to compile your library.  If this fails, he shows you the error in your browser.  Repeat to yourself, "everything is strongly typed."  Thank you.
* If your library compiles, the Roadie notifies _Seven5_ that changes have been made to the types.
* _Seven5_ sends a message back to the Roadie about new (or changed) types, such as `bar`.
* The Roadie messages _Seven5_ to (re-)inform him about the new types and _Seven5_ generates a bunch of Go code with names like `bar_networking.go` and `bar_storage.go`
* Roadie compiles the resulting library, now with extra code courtesy of _Seven5_, wrapped around `bar`
* Road hooks `bar` up to your web browser so you can access it.

This whole process takes less than a second on a modern laptop.

## Groupies

* A groupie has a single, very-specific task.
* The _Seven5_ application proper is built as a collection of groupies, each groupie implemented in Go.
* A groupie receives a structure as a parameter and returns a structure as a result.
* If you are "taking the defaults", you should never need to worry about groupies.
* If you want to change the groupies, you can do so per-application with `groupies.json` at the root of your application directory.
* `groupies.json` is watched by the roadie and he'll rebuild _Seven5_ based on your new groupies.
* `ValidateProjectFiles` is an example of a groupie; so is `DiscoverTypes` from our discussion of pills above.

## What exactly _is_ Seven5 then?

Above all else, _Seven5_ is code generator.  Building a modern web application has a lot of parts that are  boilerplate, repetitive and niggling, already solved by others, or just boring.  _Seven5_ generates Go code that is linked together with your application to eliminate this type of work.  

As we stated above, _Seven5_ is a collection of groupies (lower case).  Each groupie a replaceable "command" that _Seven5_ knows how to execute.  These commands are fed a structure and return a structure, but because _Seven5_ is a separate program from the Roadie, Json is used between the process boundaries. 

For example, to continue our example from above in the section on the Roadie, when the Roadie needs information about what types are now in your program, it sends a "command" to the `ModelDiscovery` groupie.  This groupie puts together the necessary structures about the types and returns them (via Json over a pipe).  Seven5 is always run as a command line program and runs to completion each time.  Json in, Json out.


