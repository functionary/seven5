<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Seven5 Project Layout</title>
  <meta name="GENERATOR" content="Blackfriday Markdown Processor v1.1" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="http://kevinburke.bitbucket.org/markdowncss/markdown.css" />
</head>
<body>

<h1>Seven5 Project Layout</h1>

<p><strong>Seven5</strong> uses conventions, not configuration, to manage how your web
application will work.  During development, you should never write a
configuration file.  Simple deployments should also be possible without any
configuration files.</p>

<p>Here is the file and directory structure of a <strong>Seven5</strong> project called <code>foo</code> with
a raw mongrel2 handler called <code>bar</code> and a REST service called <code>baz</code>.  Files
are marked with &lsquo;*&rsquo; and unix domain sockets are marked with &lsquo;**&rsquo;</p>

<pre>

    foo
     |
     +-- bar_handler.go*
     |
     +-- baz_rest.go*
     |
     +-- foo_test.sqlite*
     |
     +--mongrel2
            |
            +-- log
            |    |
            |    +-- access.log*
            |    |
            |    +-- error.log*
            |    |
            |    +-- seven5.log*
            |    
            +-- run
            |    |
            |    +-- mongrel2.pid*
            |    |
            |    +-- run_control**
            |
            +-- static
                 |
                 +-- index.html*
                 
</pre>

<ul>
<li><p>The &ldquo;code&rdquo; of the web application is contained in <code>bar_handler.go</code> and
<code>baz_rest.go</code>.</p></li>

<li><p><code>foo_test.sqlite</code> is generated by <strong>Seven5</strong>.  It contains sql data (not sql
statements in text form) that is the configuration needed for mongrel2 to
connect to the foo application in test mode.</p></li>

<li><p>The <code>mongrel2</code> directory contains directories related to mongrel2 operation.
The web server will be chrooted to this directory.</p></li>

<li><p><code>access.log</code> is a standard HTTP access log, generated by mongrel2</p></li>

<li><p><code>error.log</code> is the mongrel2 error log, it should only contain <strong>Seven5</strong> or
<code>foo</code> if something is wrong with the <strong>Seven5</strong> infrastructure.</p></li>

<li><p><code>seven5.log</code> is generated by the <strong>Seven5</strong> infrastructure and the <code>foo</code>
web application.  Log messages written in the application code go to this file.</p></li>

<li><p><code>mongrel2.pid</code> is present when mongrel2 is running.  Generated by mongrel2
with its own process id.</p></li>

<li><p><code>run_control</code> is a unix-domain socket that can be used to give mongrel2
commands. <strong>Seven5</strong> uses this to restart the server when necessary, such as
when</p></li>

<li><p><code>static</code> is a directory that is visible to mongrel2 for standard (non
dynamic) serving of files.  Anything put in this directory will be served
by mongrel2 unchanged.</p></li>

<li><p><code>index.html</code> is an example static html file.</p></li>
</ul>

</body>
</html>
